<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <title></title>
    <script src="./unitary.js"></script> <!-- ライブラリ本体 -->
    <script src="./canvas.js"></script>
    <script>
    window.addEventListener('load', function(){
      var Circle = Unitary.Circle,
          Graph = Unitary.Graph,
          Image_ = Unitary.Image,
          Line = Unitary.Line,
          Point = Unitary.Point,
          Polygon = Unitary.Polygon,
          Rect = Unitary.Rect,
          Segment = Unitary.Segment,
          Text_ = Unitary.Text,
          Triangle = Unitary.Triangle;

      var A = new Point(30,30),
          B = new Point(90,90),
          AB = new Line(A, B),
          SegAB = new Segment(A, B),
          circleC = new Circle(A, 30),
          C = new Point(90,40),
          D = new Point(60,20),
          ABC = new Triangle(A, B, C),
          ABCD = new Polygon(A, B, C, D),
          rectAB = new Rect(A, B),
          circumcircleABC = ABC.getCircumcircle(),
          incircleABC = ABC.getIncircle();
      var circleCanvas = new Canvas('circle'),
          lineCanvas = new Canvas('line'),
          segmentCanvas = new Canvas('segment'),
          polygonCanvas = new Canvas('polygon'),
          triangleCanvas = new Canvas('triangle'),
          rectCanvas = new Canvas('rect'),
          pentagonCanvas = new Canvas('pentagon'),
          logoCanvas = new Canvas('logo'),
          graphCanvas = new Canvas('graph');

      circleCanvas.add(circleC);
      circleCanvas.add(circleC.Origin);
      circleCanvas.add(new Text_('O', circleC.Origin));

      lineCanvas.add(AB);
      lineCanvas.add(new Line(new Point(20, 0), new Point(20,20)));
      lineCanvas.add(new Line(new Point(0, 20), new Point(20,20)));

      segmentCanvas.add(SegAB);

      polygonCanvas.add(ABCD);

      triangleCanvas.add(circumcircleABC.setFillColor('#BB7C00'));
      triangleCanvas.add(ABC.setFillColor('#E89B00'));
      triangleCanvas.add(incircleABC.setFillColor('#FFA900'));

      rectCanvas.add(rectAB);

      pentagonCanvas.add(
        new Polygon(
          new Point(Math.cos(2 * Math.PI * (1/5) + Math.PI / 2) * 30 + 30, Math.sin(2 * Math.PI * (1/5) + Math.PI / 2) * 30 + 30),
          new Point(Math.cos(2 * Math.PI * (2/5) + Math.PI / 2) * 30 + 30, Math.sin(2 * Math.PI * (2/5) + Math.PI / 2) * 30 + 30),
          new Point(Math.cos(2 * Math.PI * (3/5) + Math.PI / 2) * 30 + 30, Math.sin(2 * Math.PI * (3/5) + Math.PI / 2) * 30 + 30),
          new Point(Math.cos(2 * Math.PI * (4/5) + Math.PI / 2) * 30 + 30, Math.sin(2 * Math.PI * (4/5) + Math.PI / 2) * 30 + 30),
          new Point(Math.cos(2 * Math.PI * (5/5) + Math.PI / 2) * 30 + 30, Math.sin(2 * Math.PI * (5/5) + Math.PI / 2) * 30 + 30)
      ).setFillColor('#ccc')
      );

      logoCanvas.mode = 'normal';
      logoCanvas.add(new Image_('./logo.png', new Point(0, 0)));

      graphCanvas.add(new Line(new Point(20, 0), new Point(20,20)).setStrokeColor('#ddd'));
      graphCanvas.add(new Line(new Point(0, 20), new Point(20,20)).setStrokeColor('#ddd'));
      graphCanvas.add(new Graph(function(x) {return x * x}, 0.05));
      graphCanvas.add(new Text_('1', new Point(20,4)).setAlign('center'));
      graphCanvas.add(new Text_('5', new Point(100,4)));
      graphCanvas.add(new Text_('1', new Point(0,20)));

      circleCanvas.draw();
      lineCanvas.draw();
      segmentCanvas.draw();
      polygonCanvas.draw();
      triangleCanvas.draw();
      rectCanvas.draw();
      pentagonCanvas.draw();
      logoCanvas.draw();
      graphCanvas.draw();
    });
    </script>
    <style>
      canvas {
        border:2px solid #666;
      }
    </style>
  </head>
  <body>
    <canvas id="circle" width="200" height="200"></canvas>
    <canvas id="line" width="200" height="200"></canvas>
    <canvas id="segment" width="200" height="200"></canvas>
    <canvas id="polygon" width="200" height="200"></canvas>
    <canvas id="triangle" width="200" height="200"></canvas>
    <canvas id="rect" width="200" height="200"></canvas>
    <canvas id="pentagon" width="200" height="200"></canvas>
    <canvas id="logo" width="200" height="200"></canvas>
    <canvas id="graph" width="200" height="200"></canvas>
  </body>
</html>
