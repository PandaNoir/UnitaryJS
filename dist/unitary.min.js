var __extends=this&&this.__extends||function(d,b){function a(){this.constructor=d}for(var e in b)b.hasOwnProperty(e)&&(d[e]=b[e]);d.prototype=null===b?Object.create(b):(a.prototype=b.prototype,new a)};function gcd(d,b){return d<b?gcd(b,d):0>d?gcd(-d,b):0>b?gcd(d,-b):0===b?d:gcd(b,d%b)}
function distance(d,b){var a;if(d instanceof Point&&b instanceof Point)return Math.sqrt((d.x-b.x)*(d.x-b.x)+(d.y-b.y)*(d.y-b.y));if(d instanceof Point&&b instanceof Line)return a=b.a*d.x+b.b*d.y+b.c,0>a&&(a*=-1),a/=Math.sqrt(b.a*b.a+b.b*b.b);if(d instanceof Line&&b instanceof Point)return distance(b,d)}exports.distance=distance;
var UnitaryObject=function(){function d(){this.style={fillColor:null,strokeColor:null};if(!(this instanceof d))throw Error("Constructor cannot be called as a function.");this.style.fillColor=null;this.style.strokeColor=null}d.prototype.equals=function(b){return this.name()===b.name()};d.prototype.setFillColor=function(b){this.style.fillColor=b;return this};d.prototype.setStrokeColor=function(b){this.style.strokeColor=b;return this};d.prototype.setStyle=function(b){for(var a in b)this.style[a]=b[a];
return this};d.prototype.move=function(b,a){return this};d.prototype.moveX=function(b){return this.move(b,0)};d.prototype.moveY=function(b){return this.move(0,b)};d.prototype.has=function(b){return!1};d.prototype.name=function(){return"UnitaryObject"};return d}();exports.UnitaryObject=UnitaryObject;
var Point=function(d){function b(a,e){if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");d.call(this);this.x=a;this.y=e}__extends(b,d);b.prototype.moveTo=function(a,e){return(new b(a,e)).setStyle(this.style)};b.prototype.move=function(a,e){return(new b(this.x+a,this.y+e)).setStyle(this.style)};b.prototype.rotate=function(a,e){return new b(Math.cos(a)*(this.x-e.x)-Math.sin(a)*(this.y-e.y)+e.x,Math.sin(a)*(this.y-e.y)+Math.cos(a)*(this.y-e.y)+e.y)};b.prototype.toString=
function(){return"("+this.x+", "+this.y+")"};b.prototype.inspect=function(){return"("+this.x+", "+this.y+")"};b.prototype.equals=function(a){return d.prototype.equals.call(this,a)?this.x===a.x&&this.y===a.y:!1};b.prototype.name=function(){return"Point"};return b}(UnitaryObject);exports.Point=Point;
var BaseVector=function(d){function b(a){for(var b=1;b<arguments.length;b++);d.call(this);if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(arguments[0])){this.component=Array(arguments[0].length);for(var b=0,c=arguments[0].length;b<c;b=0|b+1)this.component[b]=arguments[0][b]}else for(this.component=Array(arguments.length),b=0,c=arguments.length;b<c;b=0|b+1)this.component[b]=arguments[b]}__extends(b,d);b.prototype.add=function(a){if(this.component.length!==a.component.length)throw Error("dimention of each vector are different.");
for(var e=Array(this.component.length),c=0,d=this.component.length;c<d;c=0|c+1)e[c]=this.component[c]+a.component[c];return new b(e)};b.prototype.substract=function(a){return this.add(a.multiple(-1))};b.prototype.product=function(a){if(this.component.length!==a.component.length)throw Error("dimention of each vector are different.");for(var b=0,c=0,d=this.component.length;c<d;c=0|c+1)b+=this.component[c]*a.component[c];return b};b.prototype.multiple=function(a){for(var e=Array(this.component.length),
c=0,d=this.component.length;c<d;c=0|c+1)e[c]=a*this.component[c];return new b(e)};b.prototype.abs=function(){for(var a=0,b=0,c=this.component.length;b<c;b=0|b+1)a+=this.component[b]*this.component[b];return Math.sqrt(a)};b.prototype.equals=function(a){if(this.component.length!==a.component.length)return!1;for(var b=0,c=this.component.length;b<c;b=0|b+1)if(this.component[b]!==a.component[b])return!1;return!0};b.prototype.move=function(){for(var a=0;a<arguments.length;a++);for(var a=Array(arguments.length),
e=0,c=arguments.length;e<c;e=0|e+1)a[e]=arguments[e];return this.add(new b(a))};b.prototype.name=function(){return"BaseVector"};return b}(UnitaryObject);exports.BaseVector=BaseVector;
var Vector=function(d){function b(a,e){if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");2===arguments.length?(d.call(this,arguments[0],arguments[1]),this.x=arguments[0],this.y=arguments[1]):1===arguments.length&&(d.call(this,arguments[0].x,arguments[0].y),this.x=arguments[0].x,this.y=arguments[0].y)}__extends(b,d);b.prototype.add=function(a){a=d.prototype.add.call(this,a);return new b(a.component[0],a.component[1])};b.prototype.substract=function(a){a=d.prototype.substract.call(this,
a);return new b(a.component[0],a.component[1])};b.prototype.multiple=function(a){a=d.prototype.multiple.call(this,a);return new b(a.component[0],a.component[1])};b.prototype.equals=function(a){return d.prototype.equals.call(this,a)?this.x===a.x&&this.y===a.y:!1};b.prototype.move=function(a,e){return new b(this.x+a,this.y+e)};b.prototype.name=function(){return"Vector"};return b}(BaseVector);exports.Vector=Vector;
var Vector3D=function(d){function b(a,e,c){if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");3===arguments.length?(d.call(this,arguments[0],arguments[1],arguments[2]),this.x=arguments[0],this.y=arguments[1],this.z=arguments[2]):1===arguments.length&&(d.call(this,arguments[0].x,arguments[0].y,arguments[0].z),this.x=arguments[0].x,this.y=arguments[0].y,this.z=arguments[0].z)}__extends(b,d);b.prototype.add=function(a){a=d.prototype.add.call(this,a);return new b(a.component[0],
a.component[1],a.component[2])};b.prototype.substract=function(a){a=d.prototype.substract.call(this,a);return new b(a.component[0],a.component[1],a.component[2])};b.prototype.multiple=function(a){a=d.prototype.multiple.call(this,a);return new b(a.component[0],a.component[1],a.component[2])};b.prototype.move=function(a,e,c){return new b(this.x+a,this.y+e,this.z+c)};b.prototype.name=function(){return"Vector3D"};return b}(BaseVector);exports.Vector3D=Vector3D;
var Line=function(d){function b(a,e){var c;if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");if(a.equals(e))throw Error("A equals B. So AB couldn't construct line.");d.call(this);this.points=[a,e];this.a=e.y-a.y;this.b=a.x-e.x;this.c=a.x*(a.y-e.y)-a.y*(a.x-e.x);c=gcd(gcd(this.a,this.b),this.c);this.a/=c;this.b/=c;this.c/=c;0===this.a&&(this.c/=this.b,this.b=1);0===this.b&&(this.c/=this.a,this.a=1)}__extends(b,d);b.prototype.move=function(a,e){return(new b(this.points[0].move(a,
e),this.points[1].move(a,e))).setStyle(this.style)};b.prototype.getEquation=function(){var a;a="";var b=this.a,c=this.b,d=this.c;if(0>this.a||0===this.a&&0>this.b)b*=-1,c*=-1,d*=-1;0<b&&1!==b&&(a+="+"+b+"x");1===b&&(a+="+x");0<c&&1!==c&&(a+="+"+c+"y");1===c&&(a+="+y");0>c&&-1!==c&&(a+="-"+-c+"y");-1===c&&(a+="-y");0<d&&(a+="+"+d);0>d&&(a+="-"+-d);"+"===a.charAt(0)&&(a=a.slice(1));return a+"=0"};b.prototype.toString=function(){return this.getEquation()};b.prototype.inspect=function(){return this.getEquation()};
b.prototype.getIntersection=function(a){if(this.a===a.a&&this.b===a.b)return!1;a=(a.a*this.c-this.a*a.c)/(this.a*a.b-a.a*this.b);return new Point(-1*(this.b*a+this.c)/this.a,a)};b.prototype.equals=function(a){return d.prototype.equals.call(this,a)?this.a===a.a&&this.b===a.b&&this.c===a.c:!1};b.prototype.name=function(){return"Line"};return b}(UnitaryObject);exports.Line=Line;
var Segment=function(d){function b(a,e){if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");this.points=a.x>e.x?[e,a]:[a,e];d.call(this);this.length=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2))}__extends(b,d);b.prototype.move=function(a,e){return(new b(this.points[0].move(a,e),this.points[1].move(a,e))).setStyle(this.style)};b.prototype.has=function(a){var b,c;b=this.points[0];c=this.points[1];return b.x<=a.x&&a.x<=c.x&&(b.y<=c.y&&b.y<=a.y&&a.y<=c.y||b.y>=c.y&&
b.y>=a.y&&a.y>=c.y)&&(b.y-c.y)/(b.x-c.x)*a.x===a.y?!0:!1};b.prototype.intersects=function(a){a=a instanceof Line?this.toLine().getIntersection(a):this.toLine().getIntersection(a.toLine());return!1===a?!1:this.points[0].x<=a.x&&a.x<=this.points[1].x?!0:!1};b.prototype.toLine=function(){return new Line(this.points[0],this.points[1])};b.prototype.equals=function(a){return d.prototype.equals.call(this,a)?this.points[0].equals(a.points[0])&&this.points[1].equals(a.points[1]):!1};b.prototype.name=function(){return"Segment"};
return b}(UnitaryObject);exports.Segment=Segment;
var Circle=function(d){function b(a,e){if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");d.call(this);this.Origin=this.center=a;this.radius=this.r=e}__extends(b,d);b.prototype.moveTo=function(a,e){return(new b(this.center.moveTo(a,e),this.r)).setStyle(this.style)};b.prototype.move=function(a,e){return(new b(this.center.move(a,e),this.r)).setStyle(this.style)};b.prototype.getEquation=function(){var a="(x";0<this.center.x?a+="-"+this.center.x:0>this.center.x&&(a+="+"+
-this.center.x);a+=")^2+(y";0<this.center.y?a+="-"+this.center.y:0>this.center.y&&(a+="+"+-this.center.y);return a+=")^2="+this.r+"^2"};b.prototype.equals=function(a){return d.prototype.equals.call(this,a)?this.center.equals(a.center)&&this.r===a.r:!1};b.prototype.has=function(a){return(new Vector(a)).substract(new Vector(this.center)).abs()<=this.r};b.prototype.name=function(){return"Circle"};return b}(UnitaryObject);exports.Circle=Circle;
var CircularSector=function(d){function b(a,e,c,g){void 0===g&&(g=0);if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");d.call(this);this.Origin=this.center=a;this.r=this.radius=e;this.endAngle=c;this.startAngle=g}__extends(b,d);b.prototype.moveTo=function(a,e){return(new b(this.center.moveTo(a,e),this.r,this.endAngle,this.startAngle)).setStyle(this.style)};b.prototype.move=function(a,e){return(new b(this.center.move(a,e),this.r,this.endAngle,this.startAngle)).setStyle(this.style)};
b.prototype.rotate=function(a){return(new b(this.center,this.r,this.endAngle+a,this.startAngle+a)).setStyle(this.style)};b.prototype.equals=function(a){return d.prototype.equals.call(this,a)?this.center.equals(a.center)&&this.r===a.r&&0===(this.startAngle-a.startAngle)%(2*Math.PI)&&0===(this.endAngle-a.endAngle)%(2*Math.PI):!1};b.prototype.has=function(a){var b=Math.atan2(a.y,a.x);return(new Vector(a)).substract(new Vector(this.center)).abs()<=this.r&&this.startAngle<=b&&b<=this.endAngle};b.prototype.name=
function(){return"CircularSector"};return b}(UnitaryObject);exports.CircularSector=CircularSector;
var Polygon=function(d){function b(){var a;a=1<=arguments.length?Array.prototype.slice.call(arguments,0):[];if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");d.call(this);"[object Array]"===Object.prototype.toString.call(a[0])?this.points=a[0]:this.points=a}__extends(b,d);b.prototype.equals=function(){return!1};b.prototype.move=function(a,e){for(var c=[],d=0,f=this.points.length;d<f;d++)c[d]=this.points[d].move(a,e);return(new b(c)).setStyle(this.style)};b.prototype.rotate=
function(a,e){for(var c=[],d=0,f=this.points.length;d<f;d++)c[d]=this.points[d].rotate(a,e);return(new b(c)).setStyle(this.style)};b.prototype.has=function(a){var b,c,d;c=this.points[this.points.length-1];for(var f=0,h=0,k=this.points.length;h<k;h++)d=this.points[h],b=(new Vector(d)).substract(new Vector(a)),c=(new Vector(c)).substract(new Vector(a)),b=b.product(c)/(b.abs()*c.abs()),f+=Math.acos(b),c=d;return 360===Math.round(f/(2*Math.PI)*360)};b.prototype.name=function(){return"Polygon"};return b}(UnitaryObject);
exports.Polygon=Polygon;
var Quadrilateral=function(d){function b(a,e,c,g){if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");if((new Segment(a,g)).intersects(new Segment(e,c)))throw Error("ABCD is not a quadrilateral.");if(a.equals(e)||a.equals(c)||a.equals(g)||e.equals(c)||e.equals(g)||c.equals(g))throw Error("ABCD is not a quadrilateral.");d.call(this,a,e,c,g)}__extends(b,d);b.prototype.getArea=function(){var a=this.points[0],b=this.points[2],c=this.points[3],d=(new Triangle(a,this.points[1],
b)).getArea(),a=(new Triangle(a,b,c)).getArea();return d+a};b.prototype.move=function(a,e){var c=d.prototype.move.call(this,a,e);return new b(c.points[0],c.points[1],c.points[2],c.points[3])};b.prototype.rotate=function(a,e){var c=d.prototype.rotate.call(this,a,e);return new b(c.points[0],c.points[1],c.points[2],c.points[3])};b.prototype.name=function(){return"Quadrilateral"};return b}(Polygon);exports.Quadrilateral=Quadrilateral;
var Triangle=function(d){function b(a,e,c){if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");if(null==a||null==e||null==c)throw Error("Triangle must have three vertices.");if(a.equals(e)||e.equals(c)||a.equals(c))throw Error("Triangle must have three vertices.");d.call(this,a,e,c)}__extends(b,d);b.prototype.getCircumcircle=function(){var a=this.points[0],b=this.points[1],c=this.points[2],d=new Segment(a,b),f=new Segment(b,c),h=new Segment(c,a),k=this.getArea(),a=new Vector(a.x,
a.y),b=new Vector(b.x,b.y),c=new Vector(c.x,c.y),l=Math.pow(f.length,2),m=Math.pow(h.length,2),n=Math.pow(d.length,2),k=(new Vector(0,0)).add(a.multiple(l*(m+n-l))).add(b.multiple(m*(n+l-m))).add(c.multiple(n*(l+m-n))).multiple(1/(16*Math.pow(k,2))),k=new Point(k.x,k.y),d=b.substract(a).product(c.substract(a))/(d.length*h.length);return new Circle(k,f.length/Math.sqrt(1-Math.pow(d,2))/2)};b.prototype.getIncircle=function(){var a=new Vector(this.points[0].x,this.points[0].y),b=new Vector(this.points[1].x,
this.points[1].y),c=new Vector(this.points[2].x,this.points[2].y),d=c.substract(b).abs(),f=c.substract(a).abs(),h=b.substract(a).abs(),a=(new Vector(0,0)).add(a.multiple(d/(d+f+h))).add(b.multiple(f/(d+f+h))).add(c.multiple(h/(d+f+h))),a=new Point(a.x,a.y),d=2*this.getArea()/(d+f+h);return new Circle(a,d)};b.prototype.getCenter=function(){var a=this.points[0],b=this.points[1],c=this.points[2];return new Point((a.x+b.x+c.x)/3,(a.y+b.y+c.y)/3)};b.prototype.getArea=function(){var a=this.points[0],b=
this.points[1],c=this.points[2],d=new Segment(a,b),f=new Segment(a,c),b=new Vector(b.x-a.x,b.y-a.y),a=new Vector(c.x-a.x,c.y-a.y),a=b.product(a)/(d.length*f.length);return d.length*f.length*Math.sqrt(1-Math.pow(a,2))/2};b.prototype.move=function(a,e){var c=d.prototype.move.call(this,a,e);return new b(c.points[0],c.points[1],c.points[2])};b.prototype.rotate=function(a,e){"undefined"===typeof e&&(e=this.getCenter());var c=d.prototype.rotate.call(this,a,e);return new b(c.points[0],c.points[1],c.points[2])};
b.prototype.name=function(){return"Triangle"};return b}(Polygon);exports.Triangle=Triangle;
var Rect=function(d){function b(a,e){if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");d.call(this,a,e)}__extends(b,d);b.prototype.has=function(a){var b=this.points[0],c=this.points[1];return 0>=(b.x-a.x)*(c.x-a.x)&&0>=(b.y-a.y)*(c.y-a.y)};b.prototype.move=function(a,e){var c=d.prototype.move.call(this,a,e);return new b(c.points[0],c.points[1])};b.prototype.rotate=function(a,e){var c=d.prototype.rotate.call(this,a,e);return new b(c.points[0],c.points[1])};b.prototype.name=
function(){return"Rect"};return b}(Polygon);exports.Rect=Rect;
var Text=function(d){function b(a,e,c,g){void 0===c&&(c="left");void 0===g&&(g=null);if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");d.call(this);this.P=e;this.text=this.string=a;this.strokesOutline=!1;this.style.align=c;this.style.maxWidth=g;this.style.fillColor="#000";this.style.outlineColor="#000";this.style.baseline="alphabetic";this.style.font=null}__extends(b,d);b.prototype.strokeOutline=function(){this.strokesOutline=!0;return this};b.prototype.setAlign=function(a){this.style.align=
a;return this};b.prototype.setOutlineColor=function(a){this.style.outlineColor=a;return this};b.prototype.setBaseline=function(a){this.style.baseline=a;return this};b.prototype.setFont=function(a){this.style.font=a;return this};b.prototype.move=function(a,d){var c=(new b(this.string,this.P.move(a,d),this.style.align,this.style.maxWidth)).setStyle(this.style);this.strokesOutline&&c.strokeOutline();return c};b.prototype.name=function(){return"Text"};return b}(UnitaryObject);exports.Text=Text;
var Image=function(d){function b(a,e){if(!(this instanceof b))throw Error("Constructor cannot be called as a function.");d.call(this);this.src=a;this.startPoint=e;this.dx=e.x;this.dy=e.y;this.sy=this.sx=this.sh=this.sw=this.dh=this.dw=null}__extends(b,d);b.prototype.trim=function(a,d,c,g,f){void 0===g&&(g=null);void 0===f&&(f=null);var h=new b(this.src,this.startPoint);null==g&&(g=d);null==f&&(f=c);h.sx=a.x;h.sy=a.y;h.sw=d;h.sh=c;h.dw=g;h.dh=f;return h};b.prototype.resize=function(a,d){var c=new b(this.src,
this.startPoint);c.dw=a;c.dh=d;c.sw=this.sw;c.sh=this.sh;c.sx=this.sx;c.sy=this.sy;return c};b.prototype.equals=function(a){return d.prototype.equals.call(this,a)?this.src===a.src&&this.dx===a.dx&&this.dy===a.dy&&this.dw===a.dw&&this.dh===a.dh&&this.sw===a.sw&&this.sh===a.sh&&this.sx===a.sx&&this.sy===a.sy:!1};b.prototype.move=function(a,d){var c=new b(this.src,this.startPoint.move(a,d));null!==this.sx&&(c=c.trim(new Point(this.sx,this.sy),this.sw,this.sh,this.dw,this.dh));return c};b.prototype.name=
function(){return"Image"};return b}(UnitaryObject);exports.Image=Image;
var Group=function(d){function b(){d.call(this);for(var a=[],b=0,c=arguments.length;b<c;b++)a[b]=arguments[b];"[object Array]"===Object.prototype.toString.call(a[0])?this.group=a[0]:this.group=a}__extends(b,d);b.prototype.has=function(a){for(var b=0,c=this.group.length;b<c;b++)if(this.group[b].has&&this.group[b].has(a))return!0;return!1};b.prototype.move=function(a,d){for(var c=this.group.concat(),g=0,f=c.length;g<f;g++)c[g].move&&(c[g]=c[g].move(a,d));return new b(c)};b.prototype.name=function(){return"Group"};
return b}(UnitaryObject);exports.Group=Group;var Graph=function(d){function b(a,b){d.call(this);this.f=a;this.scale=b;this.end=this.start=null}__extends(b,d);b.prototype.setRange=function(a,b){this.start=a;this.end=b;return this};b.prototype.equals=function(){return!1};b.prototype.moveX=function(){};b.prototype.moveY=function(){};b.prototype.name=function(){return"Graph"};return b}(UnitaryObject);exports.Graph=Graph;exports.XAxis=new Line(new Point(0,0),new Point(1,0));
exports.YAxis=new Line(new Point(0,0),new Point(0,1));exports.VERSION="0.0.6";
