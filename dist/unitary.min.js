'use strict';(function(m,h){"object"===typeof exports&&"undefined"!==typeof module?module.exports=h():"function"===typeof define&&define.amd?define(h):m.Unitary=h()})(this,function(){(function(){function h(c){this.value=c}function g(c){function b(e,d){try{var g=c[e](d),k=g.value;k instanceof h?Promise.resolve(k.value).then(function(a){b("next",a)},function(a){b("throw",a)}):a(g.done?"return":"normal",g.value)}catch(l){a("throw",l)}}function a(a,c){switch(a){case "return":e.resolve({value:c,done:!0});
break;case "throw":e.reject(c);break;default:e.resolve({value:c,done:!1})}(e=e.next)?b(e.key,e.arg):d=null}var e,d;this._invoke=function(a,c){return new Promise(function(g,h){var k={key:a,arg:c,resolve:g,reject:h,next:null};d?d=d.next=k:(e=d=k,b(a,c))})};"function"!==typeof c.return&&(this.return=void 0)}"function"===typeof Symbol&&Symbol.asyncIterator&&(g.prototype[Symbol.asyncIterator]=function(){return this});g.prototype.next=function(c){return this._invoke("next",c)};g.prototype.throw=function(c){return this._invoke("throw",
c)};g.prototype.return=function(c){return this._invoke("return",c)};return{wrap:function(c){return function(){return new g(c.apply(this,arguments))}},await:function(c){return new h(c)}}})();var m=function(k,g){if(!(k instanceof g))throw new TypeError("Cannot call a class as a function");},h=function(){function k(g,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(g,a.key,a)}}return function(g,c,b){c&&k(g.prototype,
c);b&&k(g,b);return g}}(),n=function g(c,b,a){null===c&&(c=Function.prototype);var e=Object.getOwnPropertyDescriptor(c,b);if(void 0===e)return c=Object.getPrototypeOf(c),null===c?void 0:g(c,b,a);if("value"in e)return e.value;b=e.get;return void 0===b?void 0:b.call(a)},p=function(g,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);g.prototype=Object.create(c&&c.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}});
c&&(Object.setPrototypeOf?Object.setPrototypeOf(g,c):g.__proto__=c)},l=function(g,c){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==typeof c&&"function"!==typeof c?g:c},r=function(){function g(){m(this,g);this.style={fillStyle:null,strokeStyle:null}}h(g,[{key:"equals",value:function(c){return this.name()===c.name()}},{key:"setFillColor",value:function(c){this.style.fillStyle=c;return this}},{key:"setFillStyle",value:function(c){this.style.fillStyle=
c;return this}},{key:"setStrokeColor",value:function(c){this.style.strokeStyle=c;return this}},{key:"setStrokeStyle",value:function(c){this.style.strokeStyle=c;return this}},{key:"setStyle",value:function(c){var b=!0,a=!1,e=void 0;try{for(var d=Object.keys(c)[Symbol.iterator](),w;!(b=(w=d.next()).done);b=!0){var f=w.value;this.style[f]=c[f]}}catch(g){a=!0,e=g}finally{try{!b&&d.return&&d.return()}finally{if(a)throw e;}}return this}},{key:"move",value:function(c,b){return this}},{key:"moveX",value:function(c){return this.move(c,
0)}},{key:"moveY",value:function(c){return this.move(0,c)}},{key:"has",value:function(c){return!1}},{key:"name",value:function(){return"UnitaryObject"}}]);return g}(),F=function(g){function c(){m(this,c);for(var b=l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this)),a=arguments.length,e=Array(a),d=0;d<a;d++)e[d]=arguments[d];Array.isArray(e[0])?b.controlPoints=e[0]:b.controlPoints=e;if(4<b.controlPoints.length){e=a=0;for(d=b.controlPoints.length-1;e<d;e++)var w=b.controlPoints[e+1].x-b.controlPoints[e].x,
f=b.controlPoints[e+1].y-b.controlPoints[e].y,a=a+Math.sqrt(w*w+f*f);b.step=1/a}return b}p(c,g);h(c,[{key:"setStep",value:function(b){this.step=b;return this}},{key:"move",value:function(b,a){for(var e=this.controlPoints.concat(),d=0,w=e.length;d<w;d=0|d+1)e[d]=e[d].move(b,a);return(new c(e)).setStep(this.step)}},{key:"name",value:function(){return"BezierCurve"}}]);return c}(r),q=function(g){function c(b,a){m(this,c);var e=l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));e.x=b;e.y=a;return e}
p(c,g);h(c,[{key:"moveTo",value:function(b,a){return(new c(b,a)).setStyle(this.style)}},{key:"move",value:function(b,a){return(new c(this.x+b,this.y+a)).setStyle(this.style)}},{key:"rotate",value:function(b,a){return new c(Math.cos(b)*(this.x-a.x)-Math.sin(b)*(this.y-a.y)+a.x,Math.sin(b)*(this.y-a.y)+Math.cos(b)*(this.y-a.y)+a.y)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"inspect",value:function(){return"("+this.x+", "+this.y+")"}},{key:"equals",value:function(b){return n(c.prototype.__proto__||
Object.getPrototypeOf(c.prototype),"equals",this).call(this,b)?this.x===b.x&&this.y===b.y:!1}},{key:"toVector",value:function(){return new k(this.x,this.y)}},{key:"name",value:function(){return"Point"}}]);return c}(r),z=function(g){function c(){m(this,c);for(var b=l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this)),a=arguments.length,e=Array(a),d=0;d<a;d++)e[d]=arguments[d];if(1===e.length&&Array.isArray(e[0]))for(b.component=Array(e[0].length),a=0,d=e[0].length;a<d;a=0|a+1)b.component[a]=
e[0][a];else for(b.component=Array(e.length),a=0,d=e.length;a<d;a=0|a+1)b.component[a]=e[a];return b}p(c,g);h(c,[{key:"add",value:function(b){if(this.component.length!==b.component.length)throw Error("dimention of each vector are different.");for(var a=Array(this.component.length),e=0,d=this.component.length;e<d;e=0|e+1)a[e]=this.component[e]+b.component[e];return new c(a)}},{key:"substract",value:function(b){return this.add(b.multiple(-1))}},{key:"product",value:function(b){if(this.component.length!==
b.component.length)throw Error("dimention of each vector are different.");for(var a=0,e=0,d=this.component.length;e<d;e=0|e+1)a+=this.component[e]*b.component[e];return a}},{key:"multiple",value:function(b){for(var a=Array(this.component.length),e=0,d=this.component.length;e<d;e=0|e+1)a[e]=b*this.component[e];return new c(a)}},{key:"abs",value:function(){for(var b=0,a=0,e=this.component.length;a<e;a=0|a+1)b+=this.component[a]*this.component[a];return Math.sqrt(b)}},{key:"normalize",value:function(){return this.multiple(1/
this.abs())}},{key:"equals",value:function(b){if(this.component.length!==b.component.length)return!1;for(var a=0,e=this.component.length;a<e;a=0|a+1)if(this.component[a]!==b.component[a])return!1;return!0}},{key:"move",value:function(){for(var b=arguments.length,a=Array(b),e=0;e<b;e++)a[e]=arguments[e];return this.add(new c(a))}},{key:"name",value:function(){return"BaseVector"}}]);return c}(r),k=function(g){function c(){m(this,c);for(var b=arguments.length,a=Array(b),e=0;e<b;e++)a[e]=arguments[e];
if(2===a.length){var d=l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a[0],a[1]));d.x=a[0];d.y=a[1]}else 1===a.length&&(d=l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a[0].x,a[0].y)),d.x=a[0].x,d.y=a[0].y);d.r=Math.sqrt(d.x*d.x+d.y*d.y);d.theta=(Math.atan2(d.y,d.x)+2*Math.PI)%(2*Math.PI);return l(d)}p(c,g);h(c,[{key:"add",value:function(b){b=n(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"add",this).call(this,b);return new c(b.component[0],b.component[1])}},{key:"substract",
value:function(b){b=n(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"substract",this).call(this,b);return new c(b.component[0],b.component[1])}},{key:"multiple",value:function(b){b=n(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"multiple",this).call(this,b);return new c(b.component[0],b.component[1])}},{key:"abs",value:function(){return this.r}},{key:"equals",value:function(b){return n(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"equals",this).call(this,b)?this.x===
b.x&&this.y===b.y:!1}},{key:"toPoint",value:function(){return new q(this.x,this.y)}},{key:"move",value:function(b,a){return new c(this.x+b,this.y+a)}},{key:"name",value:function(){return"Vector"}}]);return c}(z),G=function(g){function c(){m(this,c);for(var b=arguments.length,a=Array(b),e=0;e<b;e++)a[e]=arguments[e];if(3===a.length){var d=l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a[0],a[1],a[2]));d.x=a[0];d.y=a[1];d.z=a[2]}else 1===a.length&&(d=l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,
a[0].x,a[0].y,a[0].z)),d.x=a[0].x,d.y=a[0].y,d.z=a[0].z);return l(d)}p(c,g);h(c,[{key:"add",value:function(b){b=n(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"add",this).call(this,b);return new c(b.component[0],b.component[1],b.component[2])}},{key:"substract",value:function(b){b=n(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"substract",this).call(this,b);return new c(b.component[0],b.component[1],b.component[2])}},{key:"multiple",value:function(b){b=n(c.prototype.__proto__||
Object.getPrototypeOf(c.prototype),"multiple",this).call(this,b);return new c(b.component[0],b.component[1],b.component[2])}},{key:"move",value:function(b,a,e){return new c(this.x+b,this.y+a,this.z+e)}},{key:"name",value:function(){return"Vector3D"}}]);return c}(z),x=function(g){return 0<g?g:-g},A=function(g){return(0|g)===g},D=function c(b,a){return b<a?c(a,b):0>b?c(-b,a):0>a?c(b,-a):0===a?b:c(a,b%a)},u=function(c){return 0===(0|1E4*c)/1E4},B=function(c){function b(a,e){m(this,b);var d=l(this,(b.__proto__||
Object.getPrototypeOf(b)).call(this));d.center=a;d.Origin=a;d.r=e;d.radius=e;d.anticlockwise=!1;return d}p(b,c);h(b,[{key:"moveTo",value:function(a,e){return(new b(this.center.moveTo(a,e),this.r)).setStyle(this.style).setAnticlockwise(this.anticlockwise)}},{key:"move",value:function(a,e){return(new b(this.center.move(a,e),this.r)).setStyle(this.style).setAnticlockwise(this.anticlockwise)}},{key:"getEquation",value:function(){var a="(x";0!==this.center.x&&(a+=(0<=-this.center.x?"+":"-")+x(this.center.x));
a+=")^2+(y";0!==this.center.y&&(a+=(0<=-this.center.y?"+":"-")+x(this.center.y));return a+=")^2="+this.r+"^2"}},{key:"equals",value:function(a){return n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"equals",this).call(this,a)?this.center.equals(a.center)&&this.r===a.r:!1}},{key:"has",value:function(a){return(new k(a)).substract(new k(this.center)).abs()<=this.r}},{key:"setAnticlockwise",value:function(a){var e=(new b(this.center,this.r)).setStyle(this.style);e.anticlockwise=a;return e}},
{key:"name",value:function(){return"Circle"}}]);return b}(r),H=function(c){function b(a,e,d){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;m(this,b);var f=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));f.center=a;f.Origin=a;f.radius=e;f.r=e;f.endAngle=d;f.startAngle=c;f.anticlockwise=!1;return f}p(b,c);h(b,[{key:"moveTo",value:function(a,e){return(new b(this.center.moveTo(a,e),this.r,this.endAngle,this.startAngle)).setStyle(this.style).setAnticlockwise(this.anticlockwise)}},
{key:"move",value:function(a,e){return(new b(this.center.move(a,e),this.r,this.endAngle,this.startAngle)).setStyle(this.style).setAnticlockwise(this.anticlockwise)}},{key:"rotate",value:function(a){return(new b(this.center,this.r,this.endAngle+a,this.startAngle+a)).setStyle(this.style).setAnticlockwise(this.anticlockwise)}},{key:"equals",value:function(a){return n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"equals",this).call(this,a)?this.center.equals(a.center)&&this.r===a.r&&0===
(this.startAngle-a.startAngle)%(2*Math.PI)&&0===(this.endAngle-a.endAngle)%(2*Math.PI):!1}},{key:"has",value:function(a){var b=Math.atan2(a.y,a.x);return(new k(a)).substract(new k(this.center)).abs()<=this.r&&this.startAngle<=b&&b<=this.endAngle}},{key:"setAnticlockwise",value:function(a){var e=(new b(this.center,this.r,this.endAngle,this.startAngle)).setStyle(this.style);e.anticlockwise=a;return e}},{key:"name",value:function(){return"CircularSector"}}]);return b}(r),E=function(c){function b(a,e,
d){m(this,b);var c=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));c.center=a;c.Origin=a;c.innerRadius=e;c.outerRadius=d;return c}p(b,c);h(b,[{key:"moveTo",value:function(a,e){return(new b(this.center.moveTo(a,e),this.innerRadius,this.outerRadius)).setStyle(this.style)}},{key:"move",value:function(a,e){return(new b(this.center.move(a,e),this.innerRadius,this.outerRadius)).setStyle(this.style)}},{key:"equals",value:function(a){return n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),
"equals",this).call(this,a)?this.center.equals(a.center)&&this.innerRadius===a.innerRadius&&this.outerRadius===a.outerRadius:!1}},{key:"has",value:function(a){a=(new k(a)).substract(new k(this.center)).abs();return this.innerRadius<=a&&a<=this.outerRadius}},{key:"name",value:function(){return"Doughnut"}}]);return b}(r),I=function(c){function b(a,e){m(this,b);var d=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));d.f=a;d.scale=e;d.start=null;d.end=null;return d}p(b,c);h(b,[{key:"setRange",
value:function(a,b){this.start=a;this.end=b;return this}},{key:"equals",value:function(){return!1}},{key:"moveX",value:function(){}},{key:"moveY",value:function(){}},{key:"name",value:function(){return"Graph"}}]);return b}(r),J=function(c){function b(){m(this,b);for(var a=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this)),e=arguments.length,d=Array(e),c=0;c<e;c++)d[c]=arguments[c];Array.isArray(d[0])?a.group=d[0]:a.group=d;return a}p(b,c);h(b,[{key:"has",value:function(a){for(var b=0,d=this.group.length;b<
d;b++)if(this.group[b].has&&this.group[b].has(a))return!0;return!1}},{key:"move",value:function(a,e){for(var d=this.group.concat(),c=0,f=d.length;c<f;c=0|c+1)d[c].move&&(d[c]=d[c].move(a,e));return new b(d)}},{key:"name",value:function(){return"Group"}}]);return b}(r),K=function(c){function b(a,e){m(this,b);var d=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));d.src=a;d.startPoint=e;d.dx=e.x;d.dy=e.y;d.dw=null;d.dh=null;d.sw=null;d.sh=null;d.sx=null;d.sy=null;return d}p(b,c);h(b,[{key:"trim",
value:function(a,e,d){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,f=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,k=new b(this.src,this.startPoint);null==c&&(c=e);null==f&&(f=d);k.sx=a.x;k.sy=a.y;k.sw=e;k.sh=d;k.dw=c;k.dh=f;return k}},{key:"resize",value:function(a,e){var d=new b(this.src,this.startPoint);d.dw=a;d.dh=e;d.sw=this.sw;d.sh=this.sh;d.sx=this.sx;d.sy=this.sy;return d}},{key:"equals",value:function(a){return n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),
"equals",this).call(this,a)?this.src===a.src&&this.dx===a.dx&&this.dy===a.dy&&this.dw===a.dw&&this.dh===a.dh&&this.sw===a.sw&&this.sh===a.sh&&this.sx===a.sx&&this.sy===a.sy:!1}},{key:"move",value:function(a,e){var d=new b(this.src,this.startPoint.move(a,e));null!==this.sx&&(d=d.trim(new q(this.sx,this.sy),this.sw,this.sh,this.dw,this.dh));return d}},{key:"name",value:function(){return"Image"}}]);return b}(r),t=function(c){function b(a,e){m(this,b);if(a.equals(e))throw Error("A equals B. So AB couldn't construct line.");
var d=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));d.points=[a,e];d.a=e.y-a.y;d.b=a.x-e.x;d.c=a.x*(a.y-e.y)-a.y*(a.x-e.x);if(A(d.a)&&A(d.b)&&A(d.c)){var c=D(D(d.a,d.b),d.c);d.a/=c;d.b/=c;d.c/=c}0>d.a&&(d.a*=-1,d.b*=-1,d.c*=-1);0===d.a&&(d.c/=d.b,d.b=1);0===d.b&&(d.c/=d.a,d.a=1);return d}p(b,c);h(b,[{key:"move",value:function(a,e){return(new b(this.points[0].move(a,e),this.points[1].move(a,e))).setStyle(this.style)}},{key:"has",value:function(a){return u(this.a*a.x+this.b*a.y+this.c)}},
{key:"getEquation",value:function(){var a=this.a,b=this.b,d=this.c,c=function(a){return 1===x(a)?"":x(a)},f="";0!==a&&(f+=(0<=a?"+":"-")+c(a)+"x");0!==b&&(f+=(0<=b?"+":"-")+c(b)+"y");0!==d&&(f+=(0<=d?"+":"-")+x(d));return f.slice(1)+"=0"}},{key:"toString",value:function(){return this.getEquation()}},{key:"inspect",value:function(){return this.getEquation()}},{key:"getNormalVector",value:function(){return new k(this.a,this.b)}},{key:"getIntersection",value:function(a){if(u(this.a*a.b-a.a*this.b))return!1;
var b=(a.a*this.c-this.a*a.c)/(this.a*a.b-a.a*this.b),d=void 0,d=0===this.a?-1*(a.b*b+a.c)/a.a:-1*(this.b*b+this.c)/this.a;return new q(d,b)}},{key:"equals",value:function(a){if(!n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"equals",this).call(this,a))return!1;var e=u(this.a*a.b-this.b*a.a),d=u(this.b*a.c-this.c*a.b);a=u(this.a*a.c-this.c*a.a);return e&&d&&a}},{key:"isParallelTo",value:function(a){return this.equals(a)?!1:u(this.a*a.b-this.b*a.a)}},{key:"isPerpendicularTo",value:function(a){return this.equals(a)?
!1:u(this.a*a.a+this.b*a.b)}},{key:"name",value:function(){return"Line"}}]);return b}(r);t.fromVector=function(c,b){var a=c,e=b;"Point"===c.name()&&(a=c.toVector());"Point"===b.name()&&(e=b.toVector());return new t(a,a.add(e))};var y=function(c){function b(){m(this,b);for(var a=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this)),e=arguments.length,d=Array(e),c=0;c<e;c++)d[c]=arguments[c];e=1<=d.length?d:[];Array.isArray(e[0])?a.points=e[0]:a.points=e;return a}p(b,c);h(b,[{key:"equals",value:function(){return!1}},
{key:"move",value:function(a,e){for(var d=[],c=0,f=this.points.length;c<f;c=0|c+1)d[c]=this.points[c].move(a,e);return(new b(d)).setStyle(this.style)}},{key:"rotate",value:function(a,e){for(var d=[],c=0,f=this.points.length;c<f;c=0|c+1)d[c]=this.points[c].rotate(a,e);return(new b(d)).setStyle(this.style)}},{key:"has",value:function(a){for(var b=void 0,d=void 0,c=b=void 0,d=this.points[this.points.length-1],f=0,h=0,l=this.points.length;h<l;h=0|h+1)c=this.points[h],b=(new k(c)).substract(new k(a)),
d=(new k(d)).substract(new k(a)),b=b.product(d)/(b.abs()*d.abs()),f+=Math.acos(b),d=c;return u(f/(2*Math.PI)*360-360)}},{key:"name",value:function(){return"Polygon"}}]);return b}(r),v=function(c){function b(a,e){m(this,b);var d=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));d.points=a.x>e.x?[e,a]:[a,e];d.length=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2));return d}p(b,c);h(b,[{key:"move",value:function(a,e){return(new b(this.points[0].move(a,e),this.points[1].move(a,e))).setStyle(this.style)}},
{key:"has",value:function(a){var b=this.points[0],d=this.points[1];return b.x<=a.x&&a.x<=d.x&&(b.y<=d.y&&b.y<=a.y&&a.y<=d.y||b.y>=d.y&&b.y>=a.y&&a.y>=d.y)&&this.toLine().has(a)?!0:!1}},{key:"intersects",value:function(a){var b=void 0,b=a instanceof t?this.toLine().getIntersection(a):this.toLine().getIntersection(a.toLine());return!1===b?!1:this.has(b)&&a.has(b)}},{key:"toLine",value:function(){return new t(this.points[0],this.points[1])}},{key:"equals",value:function(a){return n(b.prototype.__proto__||
Object.getPrototypeOf(b.prototype),"equals",this).call(this,a)?this.points[0].equals(a.points[0])&&this.points[1].equals(a.points[1]):!1}},{key:"name",value:function(){return"Segment"}}]);return b}(r),C=function(c){function b(a,e,d){m(this,b);if(null==a||null==e||null==d)throw Error("Triangle must have three vertices.");if(a.equals(e)||e.equals(d)||a.equals(d))throw Error("Triangle must have three vertices.");return l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,e,d))}p(b,c);h(b,[{key:"getCircumcircle",
value:function(){var a=this.points[0],b=this.points[1],d=this.points[2],c=new v(a,b),f=new v(b,d),h=new v(d,a),l=this.getArea(),a=new k(a.x,a.y),b=new k(b.x,b.y),d=new k(d.x,d.y),m=Math.pow(f.length,2),n=Math.pow(h.length,2),p=Math.pow(c.length,2),l=(new k(0,0)).add(a.multiple(m*(n+p-m))).add(b.multiple(n*(p+m-n))).add(d.multiple(p*(m+n-p))).multiple(1/(16*Math.pow(l,2))),l=new q(l.x,l.y),c=b.substract(a).product(d.substract(a))/(c.length*h.length);return new B(l,f.length/Math.sqrt(1-Math.pow(c,2))/
2)}},{key:"getIncircle",value:function(){var a=new k(this.points[0].x,this.points[0].y),b=new k(this.points[1].x,this.points[1].y),d=new k(this.points[2].x,this.points[2].y),c=d.substract(b).abs(),f=d.substract(a).abs(),h=b.substract(a).abs(),a=(new k(0,0)).add(a.multiple(c/(c+f+h))).add(b.multiple(f/(c+f+h))).add(d.multiple(h/(c+f+h))),a=new q(a.x,a.y),c=2*this.getArea()/(c+f+h);return new B(a,c)}},{key:"getCenter",value:function(){var a=this.points[0],b=this.points[1],d=this.points[2];return new q((a.x+
b.x+d.x)/3,(a.y+b.y+d.y)/3)}},{key:"getArea",value:function(){var a=this.points[0],b=this.points[1],d=this.points[2],c=new v(a,b),f=new v(a,d),b=new k(b.x-a.x,b.y-a.y),a=new k(d.x-a.x,d.y-a.y),a=b.product(a)/(c.length*f.length);return c.length*f.length*Math.sqrt(1-Math.pow(a,2))/2}},{key:"move",value:function(a,c){var d=n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"move",this).call(this,a,c);return new b(d.points[0],d.points[1],d.points[2])}},{key:"rotate",value:function(a,c){"undefined"===
typeof c&&(c=this.getCenter());var d=n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"rotate",this).call(this,a,c);return new b(d.points[0],d.points[1],d.points[2])}},{key:"name",value:function(){return"Triangle"}}]);return b}(y),L=function(c){function b(a,c,d,h){m(this,b);if((new v(a,h)).intersects(new v(c,d)))throw Error("ABCD is not a quadrilateral.");if(a.equals(c)||a.equals(d)||a.equals(h)||c.equals(d)||c.equals(h)||d.equals(h))throw Error("ABCD is not a quadrilateral.");return l(this,
(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,h))}p(b,c);h(b,[{key:"getArea",value:function(){var a=this.points[0],b=this.points[2],d=this.points[3],c=(new C(a,this.points[1],b)).getArea(),a=(new C(a,b,d)).getArea();return c+a}},{key:"move",value:function(a,c){var d=n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"move",this).call(this,a,c);return new b(d.points[0],d.points[1],d.points[2],d.points[3])}},{key:"rotate",value:function(a,c){var d=n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),
"rotate",this).call(this,a,c);return new b(d.points[0],d.points[1],d.points[2],d.points[3])}},{key:"name",value:function(){return"Quadrilateral"}}]);return b}(y),M=function(c){function b(a,c){m(this,b);return l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}p(b,c);h(b,[{key:"has",value:function(a){var b=this.points[0],c=this.points[1];return 0>=(b.x-a.x)*(c.x-a.x)&&0>=(b.y-a.y)*(c.y-a.y)}},{key:"move",value:function(a,c){var d=n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),
"move",this).call(this,a,c);return new b(d.points[0],d.points[1])}},{key:"rotate",value:function(a,c){var d=n(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"rotate",this).call(this,a,c);return new b(d.points[0],d.points[1])}},{key:"name",value:function(){return"Rect"}}]);return b}(y),N=function(c){function b(a,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"left",h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;m(this,b);var f=l(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));
f.P=c;f.string=a;f.text=a;f.strokesOutline=!1;f.style.align=d;f.style.maxWidth=h;f.style.fillStyle="#000";f.style.outlineColor="#000";f.style.baseline="alphabetic";f.style.font=null;return f}p(b,c);h(b,[{key:"strokeOutline",value:function(){this.strokesOutline=!0;return this}},{key:"setAlign",value:function(a){this.style.align=a;return this}},{key:"setOutlineColor",value:function(a){this.style.outlineColor=a;return this}},{key:"setBaseline",value:function(a){this.style.baseline=a;return this}},{key:"setFont",
value:function(a){this.style.font=a;return this}},{key:"move",value:function(a,c){var d=(new b(this.string,this.P.move(a,c),this.style.align,this.style.maxWidth)).setStyle(this.style);this.strokesOutline&&d.strokeOutline();return d}},{key:"name",value:function(){return"Text"}}]);return b}(r);return{distance:function b(a,e){var d=void 0;if(a instanceof q&&e instanceof q)return Math.sqrt((a.x-e.x)*(a.x-e.x)+(a.y-e.y)*(a.y-e.y));if(a instanceof q&&e instanceof t)return d=e.a*a.x+e.b*a.y+e.c,0>d&&(d*=
-1),d/=Math.sqrt(e.a*e.a+e.b*e.b);if(a instanceof t&&e instanceof q)return b(e,a)},UnitaryObject:r,BaseVector:z,BezierCurve:F,Circle:B,CircularSector:H,Doughnut:E,Donut:E,Graph:I,Group:J,Image:K,Line:t,Point:q,Polygon:y,Quadrilateral:L,Rect:M,Segment:v,Text:N,Triangle:C,Vector3D:G,Vector:k,XAxis:new t(new q(0,0),new q(1,0)),YAxis:new t(new q(0,0),new q(0,1)),VERSION:"0.0.7"}});
